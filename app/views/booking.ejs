<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Event</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
 <div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg border-0 rounded-4 p-4 booking-card">

        <!-- Event Header -->
        <div class="mb-3 text-center">
          <h2 class="fw-bold text-dark"><%= event.title %></h2>
          <h5 class="text-success fw-semibold">â‚¹<%= event.price %> / Ticket</h5>
        </div>

        <!-- Event Details -->
        <ul class="list-group list-group-flush mb-3">
          <li class="list-group-item border-0">
            <strong>Date:</strong> <%= event.dateFormatted %>
          </li>
          <li class="list-group-item border-0">
            <strong>Time:</strong> <%= event.timeFormatted %>
          </li>
          <li class="list-group-item border-0">
            <strong>Venue:</strong> <%= event.location %>
          </li>
          <li class="list-group-item border-0">
            <strong>Available Seats:</strong> 
            <span class="badge bg-info text-dark"><%= event.available_seats %></span>
          </li>
        </ul>

        <!-- Booking Form -->
        <form action="/book/<%= event.event_id %>" method="POST" class="mt-3">

          <% if (!user) { %>
            <%- include('../components/input', { 
                  label: "Your Email", 
                  name: "email", 
                  type: "email", 
                  className: "form-control shadow-sm", 
                  required: true 
            }) %> `
          <% } %>

          <%- include('../components/input', { 
                label: "Number of Tickets", 
                name: "no_of_tickets", 
                type: "number", 
                className: "form-control shadow-sm", 
                value : 1,
                min : 1,
                max : event.available_seats,
                required: true 
          }) %>

          <!-- Payment Method Dropdown -->
          <div class="mb-3">
            <label class="form-label fw-semibold">Payment Method:</label>
            <select name="payment_method" class="form-select shadow-sm" required>
              <option value="UPI">UPI</option>
              <option value="Card">Credit/Debit Card</option> `
              <option value="Cash">Cash</option>
            </select>
          </div>

          <!-- Submit Button -->
          <%- include('../components/button', { 
                type: "submit", 
                className: "btn btn-dark w-100 py-2 fw-semibold shadow-sm", 
                children: "ðŸš€ Confirm Booking" 
          }) %>
        </form>

      </div>
    </div>
  </div>
</div>

</body>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js/lib/darkmode-js.min.js"></script>
<script src="/darkMode/darkMode.js"></script>
</html>
